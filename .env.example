# paper-feedder-mcp Environment Configuration
# Copy this file to .env and fill in your values

# ==================== MCP Server ====================
# Server name advertised to MCP clients
# SERVER_NAME=paper-feedder-mcp

# ==================== OpenAI / LLM ====================
# Required for AI-powered keyword generation and filtering
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
# Optional: custom base URL (e.g., for DeepSeek, Azure OpenAI, or compatible APIs)
# OPENAI_BASE_URL=https://api.openai.com/v1

# ==================== Research Interests ====================
# Direct prompt text for AI keyword generation / filtering
# RESEARCH_PROMPT=Your research interests description here (also used for keyword auto-generation)
# Or path to a prompt file
# RESEARCH_PROMPT_FILE=prompts/research_interests.txt

# ==================== RSS ====================
# Path to OPML file with RSS feeds
PAPER_FEEDDER_MCP_OPML=feeds/RSS_official.opml
# HTTP User-Agent for feed requests
PAPER_FEEDDER_MCP_USER_AGENT=paper-feedder-mcp/2.0
# Per-feed request timeout in seconds (default: 30)
# RSS_TIMEOUT=30
# Maximum concurrent feed fetches (default: 10)
# RSS_MAX_CONCURRENT=10

# ==================== Gmail (EZGmail) ====================
# OAuth2 credentials â€” inline JSON OR existing files.
# If you already have token/credentials files, place them in feeds/:
# - feeds/token.json
# - feeds/credentials.json
# Or provide inline JSON; it will be written to those file paths.
# GMAIL_TOKEN_JSON='{"token": "...", "refresh_token": "...", ...}'
# GMAIL_CREDENTIALS_JSON='{"installed": {"client_id": "...", ...}}'
# Optional overrides for file locations:
GMAIL_TOKEN_FILE=feeds/token.json
GMAIL_CREDENTIALS_FILE=feeds/credentials.json

# Gmail search and processing
# Optional: Gmail search query. If unset, defaults to inbox + sender filter list.
# GMAIL_QUERY=in:inbox (from:scholaralerts-noreply@google.com OR from:noreply@nature.com)
GMAIL_MAX_RESULTS=50
GMAIL_MARK_AS_READ=false
# Move processed threads to Trash (default: true)
GMAIL_TRASH_AFTER_PROCESS=true
# Verify Trash after processing (default: true)
GMAIL_VERIFY_TRASH_AFTER_PROCESS=true
# Max threads to check during Trash verification (default: 50)
GMAIL_VERIFY_TRASH_LIMIT=50
# GMAIL_PROCESSED_LABEL=paper-feedder-mcp/processed
# Sender filter list (comma-separated)
GMAIL_SENDER_FILTER=scholaralerts-noreply@google.com,noreply@nature.com
# Optional mapping for sender -> source name
# GMAIL_SENDER_MAP_JSON='{"scholaralerts-noreply@google.com":"Google Scholar","noreply@nature.com":"Nature"}'

# ==================== Zotero ====================
# Zotero library ID (user ID or group ID)
# ZOTERO_LIBRARY_ID=your-library-id-here
# Zotero API key (generate at https://www.zotero.org/settings/keys)
# ZOTERO_API_KEY=your-zotero-api-key-here
# Library type: "user" or "group"
# ZOTERO_LIBRARY_TYPE=user

# ==================== Metadata API (CrossRef & OpenAlex shared) ====================
# Shared email for polite pool access (used by both CrossRef and OpenAlex)
# POLITE_POOL_EMAIL=your-email@example.com
# Shared timeout in seconds (default: 45)
# API_TIMEOUT=45
# Shared User-Agent header
# API_USER_AGENT=paper-feedder-mcp/2.0 (https://github.com/paper-feedder-mcp; mailto:{email})

# Per-service overrides (uncomment to override shared values)
# CROSSREF_EMAIL=
# CROSSREF_API_BASE=https://api.crossref.org
# CROSSREF_TIMEOUT=45
# CROSSREF_USER_AGENT=
# OPENALEX_EMAIL=
# OPENALEX_API_BASE=https://api.openalex.org
# OPENALEX_TIMEOUT=45
# OPENALEX_USER_AGENT=

# ==================== AI Filter ====================
# Maximum papers per LLM call (default: 50)
# AI_BATCH_SIZE=50
# Max tokens for AI filter response (default: 1000)
# AI_FILTER_MAX_TOKENS=1000

# ==================== Keyword Generator ====================
# Max tokens for keyword candidate generation (default: 500)
# KEYWORD_GENERATE_MAX_TOKENS=500
# Max tokens for keyword selection (default: 300)
# KEYWORD_SELECT_MAX_TOKENS=300
